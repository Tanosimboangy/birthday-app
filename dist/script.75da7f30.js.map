{"version":3,"sources":["Elements/elements.js","Elements/html.js","script.js"],"names":["dataJson","container","document","querySelector","inputSearchName","filterByMonth","resetBtn","formFilter","populatePersons","people","map","person","nthDate","day","date","Date","dateNow","birthday","getDate","months","getMonth","year","getFullYear","fullDate","personAge","futureAge","Year","birthDayDate","oneDay","dayLeft","Math","ceil","getTime","id","picture","lastName","firstName","toLocaleString","month","join","fetchPeopleList","response","fetch","data","json","persons","showPeople","html","innerHTML","initLocalStorage","stringFromLS","localStorage","getItem","lsItems","JSON","parse","dispatchEvent","CustomEvent","updateLocalStorage","setItem","stringify","addEventListener","destroyPopup","popup","classList","remove","editFunction","e","target","closest","article","dataset","editPartnerPopup","idToEdit","editpersons","find","Promise","resolve","createElement","add","newDate","toLocaleDateString","insertAdjacentHTML","window","preventDefault","value","once","body","appendChild","deletePartner","delBtn","deleteDeletePopup","deletePopup","myPersons","filter","AddBtn","newList","popupAdd","newForm","currentTarget","now","pic","push","addBtn","filterName","input","inputSearch","toLowerCase","filterPersName","includes","myHTML","filterMonth","select","filterPeople"],"mappings":";;AEAA;;AACA;;AFDA,AEGA;AFFO,ACDP,ACIA,MFHaA,QAAQ,CEGNwC,EFHS,aEGxB,EFHO,CEG0B,CFFjC;ACDO,ACIN,QAAMC,CDJSjC,OCID,GAAG,KDJX,CAAyBC,ACIRiC,KAAK,CDJtB,ACIuB,EDJU,2ICIX,CAA5B;ADHG,ACIH,QAAMC,CDJIlC,GCIA,GDJM,ACIH,CDJIC,GAAP,CAAWC,CCIF8B,KDJQ,GCIA,CDJI,ACIHG,IAAT,EAAnB;AFHM,ACAC,ACIP,MFJY3C,AEIR4C,ODJYjC,ACIL,EFJU,CEIP+B,EFJUzC,ECAjB,ACIP,CDJwBW,ACCQ,CAKhC,EDNO,EDAyB,ACAH,CDAIV,aAAT,CAAuB,YAAvB,CAAlB;ACCK,UAAIU,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAArB,EAAyB,OAAO,IAAP;ADA9B,AEMN,MFNYT,EEMN0C,UAAU,GFNW,AEMR,GFNW5C,GEML,KFNa,CAACC,aAAT,CAAuB,QAAvB,CAAxB;ACCK,ACMV,UAAM4C,IDNYlC,ACMR,GDNW,ACMR,GDNW,EAAd,sBCMmBgC,OAAhB,CAAb;AFNK,ACCS,ACMd5C,MFPWI,OCCQ,CAAL,KDDU,GAAGH,EEOjB8C,MFPyB,CAAC7C,EEOpC,GAAsB4C,IAAtB,IFP2B,CAAuB,QAAvB,CAAtB;ACCiB,ACOtB,GAHD,cDJ8B,IAAP;ADAjB,MAAMzC,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAjB;ACCS,ACOf2C,EAAAA,UAAU,CDPU,CAAL,CCHiB,CAYhC;AFTM,ACAiB,MDAXvC,UAAU,CCAQ,EDALL,ECAF,MDAU,CAACC,aAAT,CAAuB,eAAvB,CAAnB;AEUN,QAAM8C,gBAAgB,GAAG,MAAM;ADThB,ACUd,UAAMC,GDVa,CAAL,QCUI,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAArB;ADVsB,ACWtB,UAAMC,ODXuB,ACWhB,GAAGC,CDXM,GCWF,CAACC,KAAL,CAAWL,YAAX,CAAhB;;ADVc,ACWd,QAAIG,OAAJ,EAAa;ADXU,ACYtBR,MAAAA,OAAO,GAAGQ,CDZmB,IAAP,ECYtB;ADhBS,ACiBTP,MAAAA,UAA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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["// Import the data from people.json\r\nexport const dataJson = './people.json';\r\n// Grabbing the container element\r\nexport const container = document.querySelector(\".container\");\r\nexport const inputSearchName = document.querySelector(\".input\");\r\nexport const filterByMonth = document.querySelector(\"#month\");\r\nexport const resetBtn = document.querySelector(\"reset\");\r\nexport const formFilter = document.querySelector(\"form.new_list\");","// Create a function to store the html so that you can reuse it again\r\nexport function populatePersons(people) {\r\n    return people.map(person => {\r\n        function nthDate(day) {\r\n            if (day > 3 && day < 21) return \"th\";\r\n            switch (day % 10) {\r\n                case 1: return \"st\";\r\n                case 2: return \"nd\";\r\n                case 3: return \"rd\";\r\n                default: return \"th\"; \r\n            }\r\n        }\r\n\r\n        // Getting the date with the day, month, year\r\n        const date = new Date();\r\n        const dateNow = new Date(person.birthday);\r\n        const day = dateNow.getDate();\r\n        const months = dateNow.getMonth();\r\n        const year = dateNow.getFullYear();\r\n        const fullDate = `${day}/${months + 1}/${year}`;\r\n        const personAge = date.getFullYear() - year;\r\n        const futureAge = personAge;\r\n\r\n        // Counting the days until the birthday comes\r\n        const Year = date.getFullYear();\r\n        const birthDayDate = new Date(Year, months, day);\r\n        let oneDay = 1000*60*60*24;\r\n        const dayLeft = Math.ceil((birthDayDate.getTime() - date.getTime()) / (oneDay));\r\n\r\n        return `\r\n        <article data-id=\"${person.id}\" value=\"${person.id}\" class=\"article\">\r\n            <ul>\r\n                <li><img src=\"${person.picture}\"></li>\r\n                <li>\r\n                    <h2>${person.lastName} ${person.firstName}</h2> \r\n                    <p>\r\n                        Turns <span>${futureAge + 1}</span> on ${new Date(person.birthday).toLocaleString(\"en-US\", { month: \"long\" })} <time datetime=\"${fullDate}\"> ${new Date(person.birthday).toLocaleString(\"en-Us\", { day: \"numeric\" })}${nthDate(date)}</time>\r\n                         \r\n                    </p>    \r\n                </li>\r\n                <li>\r\n                    <ul>\r\n                        <li>\r\n                            in ${dayLeft < 0 ? dayLeft * -1 + \" \" + \"days ago\" : dayLeft + \" days\"}</li>\r\n                        </li>\r\n                        <li>\r\n                        <div class=\"edit\" value=\"${person.id}\" data-id=\"${person.id}\">\r\n                            <svg class=\"w-6 h-6\" fill=\"none\" fill=\"blue\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/200/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path></svg>\r\n                        </div>\r\n                        <div class=\"delete\" data-id=\"${person.id}\">\r\n                            <svg class=\"w-6 h-6\" fill=\"none\" fill=\"red\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/200/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z\"></path></svg>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n        </article>`;}).join('');\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export function generatePeopleList(people) {\r\n//     return people\r\n//         .sort( function(a, b) {\r\n//             // Sort it by Month\r\n//             return new Date (a.birthday).getMonth() - new Date (b.birthday).getMonth();\r\n//         })\r\n//         .map(\r\n//             person => {\r\n//                 // Get the suffix for the date \r\n//                 function nthDate(day) {\r\n//                     if (day > 3 && day < 21) return \"th\";\r\n//                     switch (day % 10) {\r\n//                         case 1: return \"st\";\r\n//                         case 2: return \"nd\";\r\n//                         case 3: return \"rd\";\r\n//                         default: return \"th\"; \r\n//                     }\r\n//                 }\r\n//                 // Get the birthday date\r\n//                 const today = new Date();\r\n//                 const currentDate = new Date(person.birthday);\r\n//                 const currentDay = currentDate.getDate();\r\n//                 const month = currentDate.getMonth();\r\n//                 const year = currentDate.getFullYear();\r\n//                 const fullDate = `${currentDay}${nthDate(currentDay)} / ${month + 1} / ${year}`;\r\n//                 const futureAge = today.getFullYear() - year;\r\n//                 // ********** Counting date ******** \\\\\r\n//                 // Counting how many days left untill the person's birthday\r\n//                 const momentYear = today.getFullYear();\r\n//                 const birthDayDate = new Date(momentYear, month, currentDay );\r\n//                 let oneDay = 1000 * 60 * 60 * 24;\r\n//                 const getTheDate = birthDayDate.getTime() - today.getTime();\r\n//                 const dayLeft = Math.ceil(getTheDate / oneDay);\r\n//                 return `\r\n//                     <section data-id=\"${person.id}\" class=\"person-list\"> \r\n//                         <div>\r\n//                             <img class=\"rounded\" src=\"${person.picture}\" alt=\"This the picture for ${person.firstName} ${person.lastName}\">\r\n//                         </div>\r\n//                         <div>\r\n//                             <span class=\"persoName\">${person.lastName} ${person.firstName}</span>\r\n//                             <p>\r\n//                                 Turns ${futureAge <= 1 ? futureAge + \" \" + \"year\" : futureAge + \" \" + \"years\"} old on the \r\n//                                 ${new Date(person.birthday)\r\n//                                     .toLocaleString(\"en-US\", \r\n//                                 { month: \"long\" })}\r\n//                                 <time datetime=\"${fullDate}\">\r\n//                                     ${new Date(person.birthday)\r\n//                                         .toLocaleString(\"en-US\", \r\n//                                         { day: \"numeric\" })}<sup>${nthDate(currentDay)}</sup>\r\n//                                 </time> \r\n//                             </p>\r\n//                         </div>\r\n//                         <div class=\"wrapper-actions\">\r\n//                             <span>\r\n//                                 ${dayLeft < 0 ? dayLeft * -1 + \" \" + \"days ago\" :\r\n//                                 dayLeft <= 1 ? dayLeft + \" \" + \"day\" :\r\n//                                 dayLeft + 'days'}\r\n//                             </span>\r\n//                             <div class=\"actions\">\r\n//                                 <button class=\"edit\" data-id=\"${person.id}\">\r\n//                                     <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path></svg>\r\n//                                 </button>\r\n//                                 <button class=\"delete\" data-id=\"${person.id}\">\r\n//                                     <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path></svg>\r\n//                                 </button>\r\n//                             </div>\r\n//                         </div>\r\n//                     </section>\r\n//                 `\r\n//             }\r\n//         )\r\n//         .join('');\r\n// }","import { container, inputSearchName, filterByMonth, formFilter } from './Elements/elements.js';\r\nimport { populatePersons } from './Elements/html.js';\r\n\r\n// Fetching the data from the people.json\r\nasync function fetchPeopleList() {\r\n\tconst response = await fetch(\"https://gist.githubusercontent.com/Pinois/e1c72b75917985dc77f5c808e876b67f/raw/93debb7463fbaaec29622221b8f9e719bd5b119f/birthdayPeople.json\");\r\n\tconst data = await response.json();\r\n\tlet persons = data;\r\n\r\n\t// Push the html into the container\r\n\tconst showPeople = () => {\r\n\t\tconst html = populatePersons(persons);\r\n\t\tcontainer.innerHTML = html;\r\n\t}\r\n\tshowPeople();\r\n\r\n\t// Store the data inside of local storage\r\n\tconst initLocalStorage = () => {\r\n\t\tconst stringFromLS = localStorage.getItem('persons');\r\n\t\tconst lsItems = JSON.parse(stringFromLS);\r\n\t\tif (lsItems) {\r\n\t\t\tpersons = lsItems;\r\n\t\t\tshowPeople();\r\n\t\t}\r\n\t\tcontainer.dispatchEvent(new CustomEvent('listUpdated'));\r\n\t};\r\n\r\n\tconst updateLocalStorage = () => {\r\n\t\tlocalStorage.setItem('persons', JSON.stringify(persons));\r\n\t};\r\n\t// Update the LocalStorage by adding event Listener\r\n\tcontainer.addEventListener(\"listUpdated\", updateLocalStorage);\r\n\tinitLocalStorage();\r\n\r\n\tasync function destroyPopup(popup) {\r\n\t\tpopup.classList.remove('open');\r\n\t\tpopup.remove();\r\n\t\tpopup = null;\r\n\t}\r\n\r\n\t// Creating an edit function in order to give access to the user to edit the lists\r\n\tconst editFunction = e => {\r\n\t\tif (e.target.closest('.edit')) {\r\n\t\t\tconst article = e.target.closest(\".article\");\r\n\t\t\tconst id = article.dataset.id;\r\n\t\t\teditPartnerPopup(id);\r\n\t\t}\r\n\t}\r\n\r\n\t// Activating the edit button by showing the form\r\n\tconst editPartnerPopup = (idToEdit) => {\r\n\t\t// Finding the object mathes to the id\r\n\t\tconst editpersons = persons.find(person => person.id == idToEdit);\r\n\t\treturn new Promise(async resolve => {\r\n\t\t\t// Creating a form element to contain the form\r\n\t\t\tconst popup = document.createElement('form');\r\n\t\t\tpopup.classList.add('popup');\r\n\t\t\tconst newDate = new Date(editpersons.birthday).toLocaleDateString();\r\n\t\t\tpopup.insertAdjacentHTML('afterbegin',\r\n\t\t\t\t`<fieldset>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Edit ${editpersons.lastName} ${editpersons.firstName}</h2>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<label>First Name:</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"lastName\" value=\"${editpersons.lastName}\">\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<label>Last Name:</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"firstName\" value=\"${editpersons.firstName}\">\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<label>Date of birthday:</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"birthday\" value=\"${newDate}\">\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button class=\"submit\" type=\"submit\" data-id=\"${editpersons.id}\">Save changes</button>\r\n\t\t\t\t\t\t\t<button class=\"cancel\" type=\"button\" data-id=\"${editpersons.id}\">Cancel</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</fieldset>\r\n\t\t\t`);\r\n\r\n\t\t\t// Adding addeventListener in to cancel button in to that button\r\n\t\t\twindow.addEventListener('click', e => {\r\n\t\t\t\tif (e.target.closest('button.cancel')) {\r\n\t\t\t\t\tdestroyPopup(popup);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Adding eventListener in the popup form\r\n\t\t\tpopup.addEventListener('submit', e => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\teditpersons.firstName = popup.firstName.value;\r\n\t\t\t\teditpersons.lastName = popup.lastName.value;\r\n\t\t\t\teditpersons.birthday= popup.birthday.value;\r\n\t\t\t\tshowPeople(editpersons);\r\n\t\t\t\tcontainer.dispatchEvent(new CustomEvent('listUpdated'));\r\n\t\t\t\tdestroyPopup(popup)\r\n\t\t\t}, { once: true });\r\n\t\t\t// Adding the popup in the html\r\n\t\t\tdocument.body.appendChild(popup);\r\n\t\t\t// Adding the open class to the popup form\r\n\t\t\tpopup.classList.add('open');\r\n\t\t});\r\n\t}\r\n\r\n\t// Creating the delete function\r\n\tconst deletePartner = e => {\r\n\t\t// Grabbing the delete button with event delegation\r\n\t\tif (e.target.closest(\".delete\")) {\r\n\t\t\tconst delBtn = e.target.closest('.delete');\r\n\t\t\tconst id = delBtn.dataset.id;\r\n\t\t\tdeleteDeletePopup(id);\r\n\t\t}\r\n\t}\r\n\t// Finction that run the delete function\r\n\tconst deleteDeletePopup = async id => {\r\n\t\treturn new Promise(async function (resolve) {\r\n\t\t\t// create confirmation popup here\r\n\t\t\tconst deletePopup = document.createElement('form');\r\n\t\t\tdeletePopup.classList.add('popup');\r\n\t\t\t// Insert the html inside the popup form\r\n\t\t\tdeletePopup.insertAdjacentHTML('afterbegin',\r\n\t\t\t\t`<ul class=\"extra_wrapper\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<h2>Are you sure you want to delete this?</h2>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"remove_btn\">delete</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"cancel\">cancel</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>`);\r\n\t\t\t// Append the deletePopup inside of the html \r\n\t\t\tdocument.body.appendChild(deletePopup);\r\n\t\t\tdeletePopup.classList.add('open');\r\n\r\n\t\t\twindow.addEventListener('click', e => {\r\n\t\t\t\tif (e.target.closest('button.cancel')) {\r\n\t\t\t\t\tdestroyPopup(deletePopup);\r\n\t\t\t\t} else if (e.target.closest('button.remove_btn')) {\r\n\t\t\t\t\tdestroyPopup(deletePopup);\r\n\t\t\t\t\tconst myPersons = persons.filter(person => person.id != id);\r\n\t\t\t\t\tpersons = myPersons;\r\n\t\t\t\t\tshowPeople(myPersons);\r\n\t\t\t\t\tlocalStorage.setItem('persons', JSON.stringify(persons));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst AddBtn = e => {\r\n\t\tif (e.target.closest('button.save')) {\r\n\t\t\tnewList();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Creating a new form for the add list\r\n\tconst newList = (e) => {\r\n\t\tconst popupAdd = document.createElement('form');\r\n\t\tpopupAdd.classList.add('popup');\r\n\t\tpopupAdd.insertAdjacentHTML('afterbegin',\r\n\t\t\t`<ul class=\"wrapper\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<label>Picture</label><br>\r\n\t\t\t\t\t<input type=\"url\" class=\"image\" placeholder=\"url\" name=\"pic\" value=\"\" required>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<label>Last Name</label><br>\r\n\t\t\t\t\t<input type=\"text\" class=\"last_name\" name=\"lastName\" value=\"\" placeholder=\"last name\" required>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<label>First Name</label><br>\r\n\t\t\t\t\t<input type=\"text\" class=\"first_name\" name=\"firstName\" placeholder=\"first name\" value=\"\" required>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<label>The birthday date: </label><br> \r\n\t\t\t\t\t<input type=\"date\" name=\"birthday\" required>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<button type=\"submit\" class=\"save\">save list</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"cancel_list\">cancel</button>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>`);\r\n\r\n\t\twindow.addEventListener('click', e => {\r\n\t\t\tif (e.target.closest('button.cancel_list')) {\r\n\t\t\t\tdestroyPopup(popupAdd);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tpopupAdd.addEventListener('submit', e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst newForm = e.currentTarget;\r\n\t\t\tconst newList = {\r\n\t\t\t\tid: Date.now(),\r\n\t\t\t\tlastName: newForm.lastName.value,\r\n\t\t\t\tfirstName: newForm.firstName.value,\r\n\t\t\t\tpicture: newForm.pic.value,\r\n\t\t\t\tbirthday: newForm.birthday.value,\r\n\t\t\t}\r\n\r\n\t\t\tpersons.push(newList);\r\n\t\t\tcontainer.dispatchEvent(new CustomEvent('listUpdated'));\r\n\t\t\tshowPeople(persons);\r\n\t\t\tdestroyPopup(popupAdd);\r\n\t\t});\r\n\t\tdocument.body.appendChild(popupAdd);\r\n\t\tpopupAdd.classList.add('open');\r\n\t};\r\n\tconst addBtn = document.querySelector('.add');\r\n\taddBtn.addEventListener('click', newList);\r\n\r\n\t// Filter the list by searching the lastName or the firstName of the person\r\n\tconst filterName = () => {\r\n\t\t// Grabbing the value of the input\r\n\t\tconst input = inputSearchName.value;\r\n\t\tconst inputSearch = input.toLowerCase();\r\n\t\tconst filterPersName = persons.filter(person => person.lastName.toLowerCase().includes(inputSearch) || person.firstName.toLowerCase().includes(inputSearch));\r\n\t\tconst myHTML = populatePersons(filterPersName);\r\n        container.innerHTML = myHTML;\r\n\t}\r\n\r\n\tconst filterMonth = () => {\r\n\t\tconst select = filterByMonth.value;\r\n\t\tconst filterPeople = persons.filter(person => {\r\n\t\t\tconst month = new Date(person.birthday).toLocaleString(\"en-US\", { month: \"long\" });\r\n\t\t\treturn month.toLowerCase().includes(select.toLowerCase());\r\n\t\t});\r\n\t\tconst html = populatePersons(filterPeople);\r\n\t\tcontainer.innerHTML = html;\r\n\t}\r\n\r\n\t// Adding event Listener to the edit fuction, delete fuction\r\n\twindow.addEventListener(\"click\", editFunction);\r\n\twindow.addEventListener(\"click\", deletePartner);\r\n\twindow.addEventListener(\"submit\", AddBtn);\r\n\t// Event listener for the input and search and reset\r\n\tinputSearchName.addEventListener(\"input\", filterName);\r\n\tfilterByMonth.addEventListener(\"input\", filterMonth);\r\n}\r\nfetchPeopleList();"]}